:root{
  --bg: #f6fbfc;
  --muted: #7b8b90;
  --accent: #0ea5a1;
  --card: #ffffff;
  --muted-2: #e9f2f3;
}

*{box-sizing:border-box}
html,body,#root{height:100%}
.app{max-width:100%;overflow-x:hidden}
body{font-family:Inter,system-ui,-apple-system,'Segoe UI',Roboto,'Helvetica Neue';background:var(--bg);margin:0;color:#0b2b2d;min-height:100%}
html,body{overflow-x:hidden}
.app{display:grid;min-height:100vh;height:100vh;align-items:stretch;gap:20px;padding:0;grid-template-columns:clamp(160px,12vw,240px) 1fr clamp(160px,12vw,240px)}

/* Top header */
.top-header{position:fixed;left:0;right:0;top:0;height:56px;background:transparent;display:flex;align-items:center;justify-content:space-between;padding:10px 16px;z-index:50}
.top-header .brand{font-weight:800;font-size:18px}
.top-header .top-nav{display:flex;gap:8px}
.hamburger{display:none;background:transparent;border:none;font-size:22px}

/* Mobile nav overlay */
.mobile-nav-overlay{position:fixed;left:0;top:0;right:0;bottom:0;background:linear-gradient(180deg,rgba(6,10,16,0.95),rgba(12,16,24,0.98));z-index:999999;display:flex;align-items:center;justify-content:center;color:white}
.mobile-nav-inner{width:100%;height:100%;display:flex;flex-direction:column;align-items:center;justify-content:center;position:relative}
.mobile-nav-inner .close{position:absolute;top:28px;right:18px;background:transparent;border:none;color:white;font-size:28px}
.mobile-nav-list{list-style:none;padding:0;margin:0;display:flex;flex-direction:column;gap:28px;font-size:28px}
.mobile-nav-list li{cursor:pointer}

.app[data-view="ordering"]{min-height:100vh;grid-template-columns:1fr 420px;gap:24px;padding:0}
.app[data-view="ordering"] .sidebar{display:none}
.app[data-view="ordering"] .main{min-height:100vh;overflow:auto;margin:0;padding-left:var(--ordering-gap);padding-right:var(--ordering-gap);width:calc(100% - var(--cart-width) - (var(--ordering-gap) * 2));box-sizing:border-box}
.app[data-view="ordering"] .cart{position:sticky;top:24px;height:calc(100vh - 48px);overflow:auto}
.sidebar{background:transparent}
/* Make the main area full-bleed by default. Use .inner as the padded card/content wrapper that stretches to fill the viewport. */
.main{background:transparent;padding:0;border-radius:0;box-shadow:none;min-width:0;box-sizing:border-box;min-height:100vh;display:flex}
.main .inner{background:var(--card);padding:28px;border-radius:16px;box-shadow:0 10px 30px rgba(10,20,20,0.04);min-height:calc(100vh - 56px);box-sizing:border-box;width:calc(100vw - 2px);max-width:none;margin-left:1px;margin-right:1px;display:flex;flex-direction:column}
.cart{background:transparent}

.restaurant-list{display:flex;flex-direction:column;gap:10px}
.restaurant-card{display:flex;justify-content:space-between;align-items:center;padding:10px;border-radius:10px;background:var(--card);cursor:pointer;border:1px solid transparent}
.restaurant-card.active{border-color:var(--accent);box-shadow:0 6px 14px rgba(14,165,161,0.06)}
.rc-left{display:flex;gap:10px;align-items:center}
.rc-thumb{width:48px;height:48px;border-radius:8px;background:linear-gradient(135deg,#dff3f4,#f0fbfb)}
.rc-name{font-weight:600}
.rc-desc{font-size:13px;color:var(--muted)}
.badge{background:var(--muted-2);padding:6px 8px;border-radius:8px;font-size:13px;color:#0b2b2d}

.dinein{background:var(--card);padding:12px;border-radius:10px;margin-top:12px;border:1px solid #eef6f6}
.dinein input{width:100%;padding:10px;border-radius:8px;border:1px solid #e6efef}

.restaurant-header{display:flex;justify-content:space-between;align-items:center;margin-bottom:18px}
.restaurant-header h1{margin:0;font-size:22px}
.muted{color:var(--muted);font-size:13px}
.points{display:flex;flex-direction:column;align-items:flex-end}
.points-balance{background:linear-gradient(90deg,#e6f7f7,#f7fbfb);padding:6px 10px;border-radius:8px;margin-top:6px}

.menu .category{margin-bottom:22px}
.menu .category h3{margin:8px 0 14px}
.items-grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(260px,1fr));gap:18px}
.menu-card{background:var(--card);border-radius:14px;padding:18px;border:1px solid #eef7f7;display:flex;flex-direction:column;justify-content:space-between;box-shadow:0 8px 24px rgba(10,20,20,0.03);transition:transform 160ms ease,box-shadow 160ms ease}
.menu-card:hover{transform:translateY(-6px);box-shadow:0 18px 40px rgba(10,20,20,0.06)}
.menu-card-body{display:flex;gap:18px;align-items:center}
.thumb{width:clamp(96px,14vw,160px);height:clamp(80px,11vw,128px);border-radius:12px;background:linear-gradient(135deg,#f0fbfb,#e8f6f6);flex-shrink:0}
.meta{flex:1}
.title{display:block}
.desc{font-size:13px}
.menu-card-actions{display:flex;gap:8px;margin-top:12px;justify-content:flex-end}
.add{background:var(--accent);color:white;border:none;padding:8px 12px;border-radius:8px}
.redeem{background:#fff;border:1px solid var(--accent);color:var(--accent);padding:8px 12px;border-radius:8px}

.cart-box{background:var(--card);padding:16px;border-radius:12px;box-shadow:0 6px 18px rgba(10,20,20,0.04);border:1px solid #f1f7f7}
.cart-item{display:flex;justify-content:space-between;padding:8px 0;border-bottom:1px dashed #f0f6f6}
.cart-item.redeemed{background:#f7fbfb}
.summary{padding-top:10px;margin-top:10px}
.actions{display:flex;gap:10px;margin-top:14px}
.place{flex:1;background:var(--accent);color:white;border:none;padding:12px;border-radius:10px}
.clear{background:#f6f8f8;border:none;padding:12px;border-radius:10px}
.redeem-note{font-size:12px}

@media (max-width: 900px){
  .app{grid-template-columns:1fr;}
  .top-header .top-nav{display:none}
  .hamburger{display:block}
  .cart{order:3;display:none} /* hide sidebar cart on small screens */
  .floating-cart-btn{position:fixed;right:calc(18px + env(safe-area-inset-right,0));bottom:calc(18px + env(safe-area-inset-bottom,0));background:linear-gradient(90deg,#27b0ad,#0ea5a1);color:white;padding:12px 18px;border-radius:999px;box-shadow:0 12px 36px rgba(10,20,20,0.12);border:none;font-weight:700}
  .mobile-cart-page .cart{display:block}

  /* When ordering on small screens make main full width and ensure no calc-based width applies */
  .app[data-view="ordering"]{
    /* reduce outer app padding so main can be full-bleed */
    padding-left:0;padding-right:0;
  }

  /* make main truly full-bleed on small screens so UI spans full viewport */
  .app[data-view="ordering"] .main{
    width:100vw !important;
    max-width:100vw !important;
    margin:0;
    padding-left:calc(env(safe-area-inset-left,16px) + 18px);
    padding-right:calc(env(safe-area-inset-right,16px) + 18px);
    border-radius:0;
    box-shadow:none;
    overflow:auto;
    box-sizing:border-box;
  }

  /* ensure the items grid takes full available width and stacks comfortably */
  .app[data-view="ordering"] .items-grid{grid-template-columns:1fr;gap:16px}
}

/* Make main content fill viewport and categories scale on small screens */
@media (max-width: 900px){
  .app .main{width:100vw;max-width:100vw;padding-left:18px;padding-right:18px;border-radius:0}
  .app .main .menu .category{width:100%}
  .app .main .items-grid{grid-template-columns:1fr;gap:14px}
}

/* When the cart overlay is open on mobile, hide only the sidebar and scale the main content
   (so items are not translated/slid â€” they uniformly scale instead). Background scroll is disabled. */
.app[data-view="cart"] .sidebar{display:none !important}
@media (max-width:900px){
  .app[data-view="cart"]{overflow:hidden}

  /* remove forcing html/body hidden (caused clipping on some iPhones) */
  /* allow page to retain normal layout while we show the full-screen cart overlay */

  /* scale main instead of shifting children; also ensure it can shrink without clipping */
  .app[data-view="cart"] .main{
    transform: scale(0.96);
    transform-origin: center center;
    transition: transform 260ms cubic-bezier(.2,.9,.3,1);
    will-change: transform;
    min-width:0; /* allow children to wrap/shrink */
  }

  /* safer content paddings on small screens */
  .app .main{padding-left:clamp(12px,4vw,20px);padding-right:clamp(12px,4vw,20px)}
  .mobile-cart-body{padding:env(safe-area-inset-top,18px) env(safe-area-inset-right,18px) env(safe-area-inset-bottom,18px) env(safe-area-inset-left,18px)}
}

/* Mobile cart overlay (covers underlying content) */
.mobile-cart-overlay{position:fixed;left:0;top:0;right:0;bottom:0;background:var(--card);z-index:99999;display:flex;flex-direction:column;padding:0;margin:0;border-radius:0;box-shadow:none;}
.mobile-cart-body{overflow:auto;flex:1;padding:18px}
/* hide floating button while in cart view using root data-view */
.app[data-view="cart"] .floating-cart-btn{display:none}

/* slide-in animation */
.mobile-cart-overlay{opacity:0;animation:fadeIn 180ms ease-out forwards}
@keyframes fadeIn{from{opacity:0}to{opacity:1}}

.mobile-cart-header{padding:18px 20px;border-bottom:1px solid #eef6f6;display:flex;align-items:center;gap:12px}
.mobile-cart-header .back{font-size:20px;color:var(--accent);background:transparent;border:none}
.mobile-cart-header h2{margin:0;font-size:18px}

/* Home view */
.home{padding:18px 24px;display:flex;flex-direction:column;flex:1;min-height:0}
.home-grid{display:grid;grid-template-columns:repeat(auto-fill,minmax(260px,1fr));gap:20px;align-items:start;flex:1;min-height:0;overflow:auto;align-content:start}
.home-card{display:flex;gap:18px;align-items:center;padding:18px;background:var(--card);border-radius:14px;border:1px solid #eef7f7;cursor:pointer;transition:transform 140ms ease,box-shadow 140ms ease}
.home-card:hover{transform:translateY(-4px);box-shadow:0 12px 30px rgba(10,20,20,0.04)}
.home-thumb{width:96px;height:80px;border-radius:12px;background:linear-gradient(135deg,#f0fbfb,#e8f6f6)}
.home-title{font-weight:600}

/* Search bar */
.search-bar{display:flex;align-items:center;gap:8px;background:linear-gradient(90deg,#f7fbfb,#ffffff);padding:10px;border-radius:12px;border:1px solid #eef6f6;margin-bottom:14px;box-shadow:0 6px 12px rgba(10,20,20,0.02)}
.search-bar input{flex:1;border:none;outline:none;background:transparent;font-size:15px;padding:6px}
.search-bar .search-icon{color:var(--muted);font-size:16px}
.search-bar .clear{background:transparent;border:none;color:var(--muted);cursor:pointer;font-size:14px}

/* Restaurant detail */
.restaurant-detail{padding:6px}
.rd-header{display:flex;gap:12px;align-items:center;margin-bottom:14px}
.back{background:transparent;border:none;color:var(--accent);font-size:16px;cursor:pointer}
.header-back{background:transparent;border:none;color:var(--accent);font-size:18px;cursor:pointer;padding:6px;border-radius:6px}
.mode-buttons{display:flex;gap:10px;margin-top:8px}
.mode{padding:10px 14px;border-radius:8px;border:1px solid #e6efef;background:#fff}
.mode.active{background:var(--accent);color:white;border-color:var(--accent)}

/* Modern restaurant detail styles */
.restaurant-detail.modern{padding:18px}
.rd-top{display:flex;align-items:center;gap:18px;margin-bottom:18px}
.rd-title h1{margin:0;font-size:28px}
.card{background:var(--card);padding:18px;border-radius:12px;border:1px solid #eef6f6;box-shadow:0 8px 20px rgba(10,20,20,0.03)}
.mode-buttons.modern{display:flex;gap:12px;margin-top:12px}
.pill{padding:12px 18px;border-radius:999px;border:1px solid #e6efef;background:#fff;font-weight:600}
.pill.active{background:var(--accent);color:white;border-color:var(--accent);box-shadow:0 6px 18px rgba(14,165,161,0.06)}

/* Header nav pills used on Home */
.home .pill{padding:8px 12px;border-radius:999px;border:1px solid #eef6f6;background:#fff;font-weight:700;font-size:13px}

.home-card{display:flex;gap:18px;align-items:center;padding:18px;background:var(--card);border-radius:14px;border:1px solid #eef7f7;cursor:pointer;transition:transform 140ms ease,box-shadow 140ms ease}
.home-card .home-meta{flex:1}
.home-card .home-title{font-weight:700}

.rc-right{min-width:80px}

/* Categories row at top of menu for larger screens */
.categories-row{display:flex;gap:10px;padding:12px 0;margin-bottom:10px;position:sticky;top:12px;background:transparent;z-index:10}
.category-pill{background:#fff;border:1px solid #eef6f6;padding:8px 12px;border-radius:999px;cursor:pointer;font-weight:700}
.category-pill.active{background:linear-gradient(90deg,#27b0ad,#0ea5a1);color:#fff;border-color:transparent}

/* Add top padding to category sections so sticky header doesn't overlap after scroll */
.category{padding-top:28px}

@media (max-width:900px){
  .categories-row{display:flex;overflow:auto;padding:8px 0;margin:12px 0}
  .category-pill{flex:0 0 auto}
}

.dinein-card{margin-top:12px}
.dinein-note{margin-bottom:10px}
.dinein-input-row{display:flex;gap:10px;align-items:center}
.dinein-input{flex:1;padding:12px;border-radius:8px;border:1px solid #e6efef}
.save{background:var(--accent);color:white;border:none;padding:10px 14px;border-radius:8px}
.dinein-status{margin-top:10px}
.badge{display:inline-block;padding:8px 10px;border-radius:999px;font-weight:600}
.badge.valid{background:linear-gradient(90deg,#e6fbf7,#f7fffb);color:#0b6b66}
.badge.invalid{background:#fff0f0;color:#8b1a1a;border:1px solid #f6d2d2}

/* Cart panel redesign */
.cart-panel{display:flex;flex-direction:column;gap:14px;padding:12px}
/* top controls removed (kept for reference) */

.ordered-items h4{margin:0 0 8px 0;display:flex;align-items:center;gap:8px}
.ordered-items .count{background:#f0fbfb;padding:4px 8px;border-radius:8px;color:#0b6b66;font-weight:700}
.items-list{display:flex;flex-direction:column;gap:10px}
.ordered-item{background:#fff;border:1px solid #eef6f6;padding:12px;border-radius:10px;display:flex;justify-content:space-between;align-items:center}
.ordered-item.active{box-shadow:0 8px 16px rgba(14,165,161,0.06);border-color:var(--accent)}
.ordered-item .oi-left{display:flex;gap:10px;align-items:center}
.oi-qty{background:linear-gradient(90deg,#e6f7f7,#f7fbfb);padding:6px 8px;border-radius:8px}
.oi-title{font-weight:600}
.oi-price{font-weight:700}

.payment-summary{padding:14px}
.payment-summary h5{margin:0 0 12px 0}
.pm-row{display:flex;justify-content:space-between;padding:8px 0;border-top:1px dashed #f0f6f6}
.pm-total{display:flex;justify-content:space-between;padding:12px 0;font-size:18px}
.place.large{width:100%;background:linear-gradient(90deg,#27b0ad,#0ea5a1);color:white;border:none;padding:14px;border-radius:12px;margin-top:12px}
